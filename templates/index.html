{% extends "base.html" %}

{% block button %}
<li class="pure-menu-item"><a href="{{ url.user }}" class="pure-menu-link">{{ id.identity().unwrap() }}</a></li>
{% endblock %}

{% block content %}

<h2>Recent activities</h2>


<div class="activities">
<table>
{% for row in session_id_username %}
{# row.0 is session, row.1 is activity id, row.2 is username #}
    <tr>
        <td>
            <div class="profileimg">
		<img src="{{ url._static }}/img/user/{{ row.2 }}.png"
                    alt="No profile picture"
                    height=100px>
		<p>{{ row.2 }}</p>
            </div>
        </td>
        <td>
            <h3>{{ row.0.start_time.0.format("%d.%m.%Y %H:%M").to_string() }}</h3>
            <p>{{ row.0.duration_active.to_string() }}
            {% match row.0.distance -%}
            	{% when Some with (value) -%}
        		, {{ value }} km
        	{% when None -%}
            {% endmatch -%}	
            </p>
        </td>
        <td>
            <img
		src="{{ url._static }}/img/activity/{{ row.1 }}.png">
        </td>
    </tr>
{% endfor %}
</table>
</div>

{% endblock %}
